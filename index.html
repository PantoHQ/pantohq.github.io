<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>marcuswhybrow on github</title>
    <meta name="description" content="">
    <meta name="author" content="Marcus Whybrow">
    
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
    
    <!--[if lt IE 9]>
      <script type="text/javascript" src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script type="text/javascript" src="assets/js/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="assets/js/bootstrap.min.js"></script>
    <script type="text/javascript">
      $(function() {
        var userUrl = "https://api.github.com/users/marcuswhybrow?callback=?"
        var reposUrl = "https://api.github.com/users/marcuswhybrow/repos?callback=?"
        
        function getUrl(repo) {
          if (repo.homepage && repo.homepage.indexOf("http://marcuswhybrow.github.com") == 0) return repo.homepage;
          return repo.html_url;
        }
        
        function getWatchers(repo) {
          if (repo.watchers == 1) return repo.watchers + " watcher";
          return repo.watchers + " watchers";
        }
        
        function addRepos(element, repos) {
          $.each(repos, function(i, repo) {
            var $item = $("<div>").addClass("repo span6 " + (repo.language || "").toLowerCase());
            var $link = $("<a>").attr("href", getUrl(repo)).appendTo($item);
            var $inner = $("<div>").addClass("inner well").appendTo($link);
            $inner.append($("<h2>").addClass("repo-name").text(repo.name));
            $inner.append($("<p>").addClass("repo-desc").text(repo.description));
            var $badges = $("<div>").addClass("repo-badges").appendTo($inner);
            if (repo.language) $badges.append($("<span>").addClass("repo-lang badge badge-info").text(repo.language));
            $badges.append($("<span>").addClass("repo-watchers badge badge-info").text(getWatchers(repo)));
            $item.appendTo(element);
          });
        }
        
        $.getJSON(userUrl, function(result) {
          var marcus = result.data;
          
          $("#repos-total").text(marcus.public_repos);
          $("#repos-num-followers").text(marcus.followers);
          $("#repos-num-following").text(marcus.following);
          $(".repos>p").slideDown();
        });
        
        $.getJSON(reposUrl, function (result) {
          var repos = result.data;
          
          $.each(repos, function(i, repo) {
            repo.pushed_at = new Date(repo.pushed_at);
          });
          
          repos.sort(function (a, b) {
            if (a.pushed_at < b.pushed_at) return 1;
            if (a.pushed_at > b.pushed_at) return -1;
            return 0;
          });
          
          addRepos("#repos-one", repos.slice(0, 2));
          addRepos("#repos-two", repos.slice(2, 4));
          $(".repos").slideDown();
        });
      });
    </script>
  </head>
  <body>
    
    <div class="masthead container">
      <div>
        <p class="hello">Hello. My name is</p>
        <h1>Marcus Whybrow</h1>
        <p>I become bored easily, but spend lots of time on GitHub.</p>
      
        <p class="buttons">
          <a href="https://github.com/marcuswhybrow/" class="btn btn-primary btn-large">View that code on GitHub</a>
        </p>
      </div>
    </div>
    
    <div class="also">
      <div class="container">
        <div class="row">
        
          <div class="span4">
            <h2>I also play the guitar...</h2>
            <p>I've been strumming away since I was nine, electric or acoustic. Muse, Queen, Rage Against the Machine, AC/DC... as long as it feels good to play or has a poignant message I wanna play it!</p>
          </div>
        
          <div class="span4">
            <h2>...and the piano...</h2>
            <p>OK. I'm not as good on this thing, but I can play some Chopin, Beethoven, and a little Rachmaninoff. And yes some Muse, since they kindled my interest in the instrument.</p>
          </div>
        
          <div class="span4">
            <h2>...and Minecraft</h2>
            <p>And steam games of course. I play games for the community aspect, I run a TeamSpeak server for my friends, and also host a private Minecraft server.</p>
          </div>
        
        </div>
      </div>
    </div>
      
    <div class="repos container">
      
      <h1>My recent GitHub repositories</h1>
      <p>I have <a href="https://github.com/marcuswhybrow/repositories"><span id="repos-total">..</span> repositories</a>, follow <span id="repos-num-following">..</span> people, and <span id="repos-num-followers">..</span> people follow me.</p>
      
      <div id="repos-one" class="row"></div>
      <div id="repos-two" class="row"></div>
      
    </div>
  </body>
</html>
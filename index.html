<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>marcuswhybrow on github</title>
    <meta name="description" content="">
    <meta name="author" content="Marcus Whybrow">
    
    <link rel="author" href="https://plus.google.com/103832793361409130288/posts">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
    
    <!--[if lt IE 9]>
      <script type="text/javascript" src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // Google Analytics Code
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-32699098-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>

  <body>  
    <div class="masthead container">
      <div>
        <p class="hello">Hello. My name is</p>
        <h1>Marcus Whybrow</h1>
        <p>I become bored easily, but spend lots of time on GitHub.</p>
      
        <p class="buttons">
          <a href="https://github.com/marcuswhybrow/" class="btn btn-primary btn-large">View that code on GitHub</a>
        </p>
      </div>
    </div>
    
    <div class="also">
      <div class="container">
        <div class="row">
        
          <div class="span4">
            <h2>I also play the guitar...</h2>
            <p>I've been strumming away since I was nine, electric or acoustic. Muse, Queen, Rage Against the Machine, AC/DC... as long as it feels good to play or has a poignant message I wanna play it!</p>
          </div>
        
          <div class="span4">
            <h2>...and the piano...</h2>
            <p>OK. I'm not as good on this thing, but I can play some Chopin, Beethoven, and a little Rachmaninoff. And yes some Muse, since they kindled my interest in the instrument.</p>
          </div>
        
          <div class="span4">
            <h2>...and Minecraft</h2>
            <p>And steam games of course. I play games for the community aspect, I run a TeamSpeak server for my friends, and also host a private Minecraft server.</p>
          </div>
        
        </div>
      </div>
    </div>
      
    <div class="repos container">
      
      <h1>My recent GitHub repositories</h1>
      <p>I have <a href="https://github.com/marcuswhybrow/repositories"><span id="repos-total">..</span> repositories</a>, follow <span id="repos-num-following">..</span> people, and <span id="repos-num-followers">..</span> people follow me.</p>
      
      <div id="repos-one" class="row"></div>
      <div id="repos-two" class="row"></div>
      
    </div>

    <!-- Scripts -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.3/bootstrap.min.js"></script>
    <script type="text/javascript">

      // jquery-1.7.2.min.js local fallback
      if (typeof jQuery == 'undefined')
        document.write('<script src="assets/js/jquery-1.7.2.min.js" type="text/javascript"><\/script>');

      // bootstrap.min.js local fallback
      if (typeof jQuery != 'undefined' && typeof jQuery.fn.modal == 'undefined')
        document.write('<script src="assets/js/bootstrap.min.js" type="text/javascript"><\/script>');

      // Fallback for browsers that don't support console
      if (typeof console == 'undefined') console = { log: function() {}, warn: function() {}, error: function() {}, debug: function() {}, info: function() {} };
    </script>
    <script type="text/javascript">
      // Object Definitions
      var Repositories = {},
          Github = {};

      Repositories.Repository = function(repo) {
        this.data = repo;
        this.cleverLink =
          this.data.homepage && this.data.homepage.indexOf("http://marcuswhybrow.github.com") == 0
          ? this.data.homepage
          : this.data.html_url;

        this.pushedAt = new Date(this.data.pushed_at);
      };
      Repositories.Repository.prototype = {
        descriptionLengthMax: 60,

        toDOM: function(element, callback) {
          var $item = $("<div>").addClass("repo span6 " + (this.data.language || "").toLowerCase()),
              $link = $("<a>").addClass("ga-track").attr("href", this.cleverLink).appendTo($item),
              $inner = $("<div>").addClass("inner well").appendTo($link),
              $badges;

          $inner.append($("<h2>").addClass("repo-name").text(this.data.name));
          $inner.append($("<p>").addClass("repo-desc").text(this.getDescription()));
          
          $badges = $("<div>").addClass("repo-badges").appendTo($inner);
          if (this.data.language) $badges.append($("<span>").addClass("repo-lang badge badge-info").text(this.data.language));
          $badges.append($("<span>").addClass("repo-watchers badge badge-info").text(this.getWatchers()));
          $item.appendTo(element);

          if (callback) callback.call(this);
        },

        getWatchers: function() {
          if (this.data.watchers == 1) return this.data.watchers + " watcher";
          return this.data.watchers + " watchers";
        },

        getDescription: function() {
          if (this.data.description.length > this.descriptionLengthMax)
            return this.data.description.slice(0, this.descriptionLengthMax) + '...';
          return this.data.description;
        }
      };



      Github.User = function(userName, onLoadCallback) {
        this.userName = userName;

        var _this = this;
        $.getJSON('https://api.github.com/users/' + this.userName + '?callback=?', function(result) {
          _this.numPublicRepos = result.data.public_repos;
          _this.followers = result.data.followers;
          _this.following = result.data.following;

          if (onLoadCallback) onLoadCallback.call(_this);
        });
      };
      Github.User.prototype = {
        toDOM: function() {
          $("#repos-total").text(this.numPublicRepos);
          $("#repos-num-followers").text(this.followers);
          $("#repos-num-following").text(this.following);
          $(".repos>p").slideDown();
        },

        getRepos: function(callback) {
          var _this = this;
          $.getJSON('https://api.github.com/users/' + this.userName + '/repos?callback=?', function(result) {
            var repos = [];
            $.each(result.data, function(i, repo) {
              repos.push(new Repositories.Repository(repo));
            });
            repos.sort(function(a, b) {
              if (a.pushedAt < b.pushedAt) return 1;
              if (a.pushedAt > b.pushedAt) return -1;
              return 0;
            })

            callback.call(_this, repos);
          });
        }
      }


      if (typeof jQuery != 'undefined') {
        $(function() {
          new Github.User('marcuswhybrow', function() {
            // Adds user information to the page
            this.toDOM();

            // Get a list of all user repositories
            this.getRepos(function(repos) {
              // Adds repositories to the page
              if (repos.length >= 2) {
                repos[0].toDOM('#repos-one');
                repos[1].toDOM('#repos-one');
              }
              if (repos.length >= 4) {
                repos[2].toDOM('#repos-two');
                repos[3].toDOM('#repos-two');
              }

              // Reveals the repositories section now that it has loaded.
              $('.repos').slideDown();
            });
          });

          // Track repository clicks
          $('.repo a').live('click mousedown', function (event) {
            // Both left clicking and middle clicking mean the link was followed, but not right clicking (even.which == 3)
            if (event.which == 1 || event.which == 2) {
              var $this = $(this);
              _gaq.push(['_trackEvent', 'Repository Link', $this.find('.repo-name').text(), $this.attr('href')]);
            }
          });
        });
      } else {
        console.warn('jQuery is required and was not loaded. Some page elements may not appear. Sorry about that.');
      }
    </script>
  </body>
</html>